% !TeX root = ../../thesis.tex

% ~2 pages 
\chapter{Conclusions}
\label{chap:conclusion}

This thesis aimed to design a method that uses the semantic web to improve sensor data discovery as well as the integration and aggregation of sensor data from multiple sources. Each of the four subquestions posed in the introduction will be answered in this chapter before addressing the main research question.

\section*{\textbf{Subquestion 1.} To what extent can sensor metadata be automatically retrieved from any SOS?}%\mbox{}

Data inside a \acl{sos} can be automatically retrieved from a \ac{sos}, using the methods described in Paragraph \ref{chap:retrieveSOS}. However, there are two things in the \ac{swe} standards that should be improved to make the proposed design work better. 

First of all, the capabilities document is currently only required to contain a list of all features of interest as a parameter for the \texttt{GetObservation} request. Optionally the features of interest can also be mentioned as metadata per offering. In the case of air quality these features represent the sensor locations. However, it is merely required to list the \acp{uri} of the features of interest. To retrieve their geometries either \texttt{GetFeatureOfInterest} or \texttt{GetObservation} requests have to be made. This is especially cumbersome since the \texttt{GetFeatureOfInterest} response does not link features of interest to procedures or observed properties. This relation is therefore only visible by either combining the observed properties and procedures per offering to the \texttt{GetFeatureOfInterest} response or by requesting observations from each sensor location. Therefore, I propose that the capabilities document should not only list the \acp{uri} of the features of interest, but also describe the geometry and observed properties of each of them. 

Secondly, in the current implementation of the \ac{xml} schemas for \ac{sos} (\url{http://schemas.opengis.net/sos/2.0}) and \ac{om} (\url{http://schemas.opengis.net/om/2.0/}) identifiers for features of interest, observed properties and procedures can be `any \ac{uri}'. This means that an \ac{url} with semantics can be provided, but a non-semantic \ac{uri} would also be valid. I propose to make the standard more strict and require a semantic \ac{url} that can be resolved to an \ac{rdf} document. Without these semantics it is hard to use a \ac{sos} for both humans and automatic processes, especially when two or more are used in combination with each other. Paragraph \ref{par:publishLD} describes how to use a \ac{purl} server for creating persistent semantic \acp{url} that resolve to an \ac{rdf} document. 

Besides the two changes that should be made to the \ac{swe} standards there is another issue with automatically retrieving sensor metadata from a \ac{sos}, namely the order of coordinates for a feature of interest. Both \aclp{sos} used in this thesis had a different order for the latitude and the longitude of their point coordinates. This is a standardisation issue already identified by many authors, which should be decided upon by the geomatics and geoscience community. For the method described in this thesis it is irrelevant which order is being used, as long as its clearly described in individual cases or prescribed using an international standard.

\section*{\textbf{Subquestion 2.} To what extent can sensor metadata from a SOS be automatically converted to linked data and published on the semantic web?}%\mbox{}

In a \ac{sos} there are \ac{xml} schemas that contain general semantics about the metadata. They identify what the different \acp{uri} represent (e.g. observed properties, procedures, features of interest). The om-lite and sam-lite ontologies have been used to make linked data from this metadata. However, a number of classes should be added to these ontologies to make it suit this process better. First of all, a class is required that distinguishes the \textit{process} of creating an observation from the physical \textit{device} that uses this process. This `sensor' class could be modelled as a device that uses a procedure at a certain sampling point. Adding this class takes away some of the ambiguity between defined processes and actually deployed sensors. Therefore, it will be easier to perform (spatial) \ac{sparql} queries that return deployed sensors of which data can be retrieved.  

Another class that should be represented in an ontology is the \acl{sos}. The current prototype design (Chapter \ref{chap:impl}) used a single endpoint for storing all metadata from \aclp{sos}. Therefore, it was known that the source of data is a \ac{sos}, but it has not been properly defined in a linked data ontology. If programs crawling the semantic web can identify a data source such as a \ac{sos} and understand its allowed queries (e.g. \texttt{GetCapabilities}, \texttt{DescribeSensor}, \texttt{GetObservation}), they can retrieve data from it without requiring prior knowledge. This way sensor data using other platforms such as the SensorThings \ac{api} could be discovered and retrieved in the same way and used in combination with each other. Therefore the extensions of current ontologies is further discussed as future research in Chapter \ref{chap:futureResearch}.  

%Semantically defining the \ac{sos} and its allowed queries opens the door to automatically combining, analysing or processing data from different \ac{ogc} geo web services. If all \ac{ogc} geo web services and their queries are part of an ontology a \ac{gis} would be able to use these services without having built-in knowledge on how they work. Future versions of a services or the addition of a service could take place by extending the ontology instead of updating each installation of a \ac{gis}.             

\section*{\textbf{Subquestion 3.} What is an effective balance between the semantic web and the geo web in the chain of discovering, retrieving and processing sensor data?}%\mbox{}

A number of authors have shown that triple stores do not perform as good as databases when their data is requested via a web application. On the other hand, linked data is very well suited for discovering data as it is literally `linked' to related data. Therefore, this thesis aimed to design a method for using the semantic web in combination with sensor web applications, where the semantic web contains metadata and the geoweb observation data. However, there is a grey area of functions that could be implemented using either on of these two parts of the web. 

For example, the semantic web could have a bounding box per \ac{sos} containing all features of interest it offers in combination with a list of all observed properties. In this case spatial and temporal filters would have to be applied at the \ac{sos} side when retrieving observation data. On the other hand, the semantic web could also contain detailed information about individual sensors. This way the \aclp{sos} are only used to retrieve observation data of already selected sensors.

Both options have been considered. The second option has been used in this thesis for a number of reasons. First of all, it was found that not all \aclp{sos} offer the same filter capabilities. In order for the first option to be viable every \ac{sos} should have a minimum amount of filter capabilities implemented by default. 
Second of all, if a user is interested in sensors located in a specific area the bounding box of all sensors might be misleading. If there is an outlying sensor or if all sensors are inside a curved or diagonal vector geometry a \ac{sos} might seem relevant while it actually is not. The result of this is that many unnecessary requests will be send to a \ac{sos} keeping the user waiting and the \ac{sos} server busy for no reason. 

Third of all, semantic information about specific sensors can be linked to by other related linked data. This can be done by the organisation maintaining the sensor or by other organisations. For example links to the manufacturer, the quality of observations achieved by a certain model of sensors, or the conditions under which the sensor is placed could be useful for anyone interested in the observation data. 

However, the down side of the second approach is that the performance is lower. The \ac{sparql} query language is not as fast as for example queries using PostgreSQL and Postgis. Adding spatial filters is possible, but is not very fast for most vector geometries. Furthermore, a larger amount of data needs to be send over the web in the process of discovering sensors. Since GeoSPARQL and stSPARQL uses the verbose \ac{wkt} or \ac{gml} encodings the queries can also be rejected for exceeding the maximum amount of characters. For this reason it is found that spatial filters using vector geometries should best be avoided. 

Still, discovering sensors is only a matter of seconds using the second approach. Automatically retrieving sensor data can take up to a couple minutes depending on the amount of sensors for which data is requested and the temporal range. However, it should be noted that performance optimization has not been a part of this thesis. It is likely that this can still be improved significantly (see Chapter \ref{chap:futureResearch}).              


\section*{\textbf{Subquestion 4.} To what extent can already existing standards for retrieving data be (re)used for a service that supplies integrated and aggregated sensor data?}%\mbox{}

All data models and services in this thesis have been used because they are based on open standards. Designs for two processes have been explored: an automated process for creating linked data from metadata in a \ac{sos} and a process for discovering, retrieving and processing sensor data. These processes were created using \ac{ogc} \aclp{wps}, which is a standard \ac{api} for spatial data processes on the web. The \ac{wps} is well suited for these two applications.

The \ac{om} standard could be reused on the semantic web using the om-lite and sam-lite ontologies. These are lightweight linked data ontologies based on \ac{om}. Performing spatial queries on this linked data is possible using \ac{ogc}'s GeoSPARQL as well as using Strabon's stRDF (Paragraph \ref{par:SpatialFilters}).

The \ac{om} observation schema is being reused for the spatially aggregated sensor data that is retrieved from the discovered \aclp{sos}. However, the schema only allows sensor data from the same procedure. The result of this is that only observations from the same \ac{sos} fit in the \ac{om} observation schema, as different procedures were implemented by the different organisations maintaining a \ac{sos}. Therefore, I propose to either allow the procedure to be nullable in the schema or to allow the procedure element to contain an array of multiple procedures.  


\section*{\textbf{Main question:} To what extent can the semantic web improve the discovery, integration and aggregation of distributed sensor data?}%\mbox{}
% To what extent is it possible to create an online knowledge base of linked metadata extracted from sensor observation services?

In this thesis a method has been designed to create an online knowledge base with linked metadata extracted from \aclp{sos}. This helps discovering, integrating and aggregation sensor data, while for efficient data retrieval the \ac{sos} is still used. The results show that such a knowledge base makes it easy to discover sensors and their corresponding sources. It allows for online processes to automatically retrieve and process sensor data. It can be generated from any \ac{sos}, if there are a minimum of semantics provided. Most \ac{swe} standards can be (re)used, although some need to be changed for the method presented here to work for every implementation of a \ac{sos}. Observed properties and procedures need to be semantically defined by the organisation maintaining a \ac{sos} and linked data ontologies should be extended to define the \acl{sos}. A number of design decisions have been made which will be further discussed in Chapter \ref{chap:disc}. Areas for improving and extending the presented methods are described in Chapter \ref{chap:futureResearch}.
